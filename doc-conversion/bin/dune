(executable
 (name ortografe_cli)
 (libraries cmdliner cmdliner_bindops ortografe ortografe_embedded dict_gen yojson)
 (preprocess (pps ppx_jane ppx_lazy_option_op ppx_partial))
 (modules :standard \ doc_conversion))

(executable
 (name doc_conversion)
 (libraries
   base64
   brr
   brrex
   dict_gen_common
   js_of_ocaml
   markup_js
   ortografe
 )
 (preprocess
  (pps
    ppx_compare
    ppx_sexp_conv
    ppx_sexp_value
    ppx_string
    ppx_lazy_option_op
    ppx_partial
 ))
 (js_of_ocaml)
 (modes js)
 (modules doc_conversion))

(env
 (jsopt (js_of_ocaml
         (compilation_mode whole_program)
         (flags --opt 3))))
